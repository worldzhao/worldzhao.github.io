---
title: koa-spider
date: 2017-07-21
tags: [koa]
categories: node
---
### koa-spider
>[githubåœ°å€](https://github.com/hackerwen/koa-spider)
#### ç®€è¿°
é€šè¿‡koa2æ­å»ºæœåŠ¡å™¨ã€‚å®šæ—¶çˆ¬å–githubè·å–æ˜Ÿæ•°æœ€å¤šçš„å‰ä¹åä¿¡æ¯å­˜å…¥æœ¬åœ°jsonæ–‡ä»¶ã€‚å½“æœåŠ¡å™¨æ¥å—è¯·æ±‚æ—¶è¿”å›json.

#### ä½¿ç”¨æ–¹æ³•
å…‹éš†é¡¹ç›®è‡³æœ¬åœ°åè¿›å…¥é¡¹ç›®æ ¹ç›®å½•

    npm install//å®‰è£…ä¾èµ–

    cd spider

    node index.js //å¯åŠ¨çˆ¬è™«

    cd..

    node app.js//å¯åŠ¨æœåŠ¡å™¨

    åœ¨æµè§ˆå™¨è®¿é—®"local:3000/github/star/java" 
    è¯­è¨€é€‰é¡¹ï¼š['javascript', 'html', 'css', 'java', 'python', 'php', 'ruby', 'typescript', 'coffeescript']

#### ä¾èµ–çš„åº“

1. koa koa-routeræ­å»ºæœåŠ¡å™¨
2. request/request-promiseï¼Œä½¿ç”¨async/await+promiseæ§åˆ¶å¼‚æ­¥æµç¨‹æ›´ä¸ºæ–¹ä¾¿
3. cheerioæœåŠ¡ç«¯jqueryï¼Œè¿›è¡ŒDomè§£æ
4. node-scheduleæ§åˆ¶çˆ¬è™«å®šæ—¶çˆ¬å–çš„ä¸€ä¸ªåº“
5. mkdirpåˆ›å»ºå­˜æ”¾jsonçš„æ–‡ä»¶å¤¹
6. koa2-corsè·¨åŸŸå¤„ç†

#### è¿”å›æ•°æ®å±•ç¤º

    localhost:3000/github/star/python

    {
    "data": [
        {
            "name": "tensorflowtensorflow",
            "star": "64.2k",
            "des": "Computation using data flow graphs for scalable machine learning",
            "update": "Jul 21, 2017"
        },
        {
            "name": "robbyrusselloh-my-zsh",
            "star": "56.4k",
            "des": "A delightful community-driven (with 1,000+ contributors) framework for managing your zsh configuration. Includes 200+â€¦",
            "update": "Jul 20, 2017"
        },
        {
            "name": "vintaawesome-python",
            "star": "36.3k",
            "des": "A curated list of awesome Python frameworks, libraries, software and resources",
            "update": "Jul 19, 2017"
        },
        {
            "name": "jakubroztocilhttpie",
            "star": "30.5k",
            "des": "Modern command line HTTP client â€“ user-friendly curl alternative with intuitive UI, JSON support, syntax highlightingâ€¦",
            "update": "Jul 20, 2017"
        },
        {
            "name": "nvbnthefuck",
            "star": "29.1k",
            "des": "Magnificent app which corrects your previous console command.",
            "update": "Jul 18, 2017"
        },
        {
            "name": "palletsflask",
            "star": "28.4k",
            "des": "A microframework based on Werkzeug, Jinja2 and good intentions",
            "update": "Jul 20, 2017"
        },
        {
            "name": "blueimpjQuery-File-Upload",
            "star": "27.1k",
            "des": "File Upload widget with multiple file selection, drag&drop support, progress bar, validation and preview images, audiâ€¦",
            "update": "Jul 19, 2017"
        },
        {
            "name": "djangodjango",
            "star": "27k",
            "des": "The Web framework for perfectionists with deadlines.",
            "update": "Jul 21, 2017"
        },
        {
            "name": "requestsrequests",
            "star": "26.3k",
            "des": "Python HTTP Requests for Humansâ„¢ âœ¨ğŸ°âœ¨",
            "update": "Jul 20, 2017"
        },
        {
            "name": "ansibleansible",
            "star": "24.3k",
            "des": "Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy. Avoidâ€¦",
            "update": "Jul 21, 2017"
        }
    ]
    }
